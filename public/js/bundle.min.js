var AuthComponent=React.createClass({getInitialState:function(){return{mode:"login"}},setRegisterMode:function(e){e.preventDefault(),this.setState({mode:"register"})},setLoginMode:function(e){e.preventDefault(),this.setState({mode:"login"})},handleLogin:function(e){e.preventDefault();var t=$(e.target).find("[name=email]").val(),a=$(e.target).find("[name=password]").val();apiClient.authenticate(t,a).done(function(e){App.trigger("auth:login-successfull")}).fail(function(e){console.error(e)})},handleSignUp:function(e){e.preventDefault();var t=$(e.target).find("[name=email]").val(),a=$(e.target).find("[name=email]").val(),n=$(e.target).find("[name=password]").val();apiClient.request("post","/auth/register",{username:t,email:a,password:n}).done(function(e){this.setState({mode:"login"})}.bind(this)).fail(function(e){console.log(e)})},render:function(){return"login"===this.state.mode?React.createElement("div",{style:{margin:"40px 0"},className:"login"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-6 col-md-4 col-md-offset-4"},React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("strong",null," Sign in to continue")),React.createElement("div",{className:"panel-body"},React.createElement("form",{role:"form",action:"#",method:"POST",onSubmit:this.handleLogin},React.createElement("fieldset",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-12 col-md-10  col-md-offset-1 "},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"glyphicon glyphicon-envelope"})),React.createElement("input",{className:"form-control",placeholder:"email",name:"email",type:"text",autofocus:!0}))),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"glyphicon glyphicon-lock"})),React.createElement("input",{className:"form-control",placeholder:"Password",name:"password",type:"password",defaultValue:""}))),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"submit",className:"btn btn-lg btn-primary btn-block",defaultValue:"Sign in"}))))))),React.createElement("div",{className:"panel-footer "},"Don't have an account! ",React.createElement("a",{href:"#",onClick:this.setRegisterMode}," Sign Up Here ")))))):React.createElement("div",{style:{margin:"40px 0"},className:"login"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-6 col-md-4 col-md-offset-4"},React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("strong",null," Sign Up")),React.createElement("div",{className:"panel-body"},React.createElement("form",{role:"form",action:"#",method:"POST",onSubmit:this.handleSignUp},React.createElement("fieldset",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-12 col-md-10  col-md-offset-1 "},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"glyphicon glyphicon-user"})),React.createElement("input",{className:"form-control",placeholder:"username",name:"username",type:"text",autofocus:!0}))),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"glyphicon glyphicon-envelope"})),React.createElement("input",{className:"form-control",placeholder:"email",name:"email",type:"text"}))),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"input-group"},React.createElement("span",{className:"input-group-addon"},React.createElement("i",{className:"glyphicon glyphicon-lock"})),React.createElement("input",{className:"form-control",placeholder:"Password",name:"password",type:"password",defaultValue:""}))),React.createElement("div",{className:"form-group"},React.createElement("input",{type:"submit",className:"btn btn-lg btn-primary btn-block",defaultValue:"Sign Up"}))))))),React.createElement("div",{className:"panel-footer "},"Already a member? ",React.createElement("a",{href:"#",onClick:this.setLoginMode}," Login Here "))))))}}),App=function(e,t){var a=document.getElementById("main-content");return{listeners:{},on:function(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this},trigger:function(e,t){if(this.listeners[e]){var a;for(a=0;a<this.listeners[e].length;a++)this.listeners[e][a].call(this,t)}},page:null,start:function(){t.isAuthenticated()?this.dashboard():this.authenticate()},dashboard:function(){this.page=ReactDOM.render(React.createElement("h1",null,"Dashboard"),a)},authenticate:function(){this.page=ReactDOM.render(React.createElement(AuthComponent,null),a)}}}(jQuery,apiClient);App.start(),App.on("auth:login-successfull",function(){App.dashoard()});